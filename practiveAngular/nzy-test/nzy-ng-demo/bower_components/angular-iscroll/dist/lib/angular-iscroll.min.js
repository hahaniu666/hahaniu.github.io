/**
 * @license angular-iscroll v3.1.0, 2016-01-22T22:29:52+0100
 * (c) 2016 Martin Thorsen Ranang <mtr@ranang.org>
 * License: MIT
 */
!function(e,r){"function"==typeof define&&define.amd?define(["iscroll","platform"],r):"object"==typeof exports?module.exports=r(require("iscroll"),require("platform")):e.angularIscroll=r(e.IScroll,e.platform)}(this,function(e,r){"use strict";function l(){var e=r.os.version.match(/(\d+).(\d+).?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}function n(){return"Chrome Mobile"===r.name}function i(){if("Opera Mini"===r.name)return!1;switch(r.os.family){case"Android":return n();case"iOS":return l()[0]>v;default:return!0}}function o(e){return e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function t(){function e(e){angular.isDefined(e.directive)&&angular.extend(i.directive,e.directive),angular.isDefined(e.iScroll)&&angular.extend(i.iScroll,e.iScroll)}function l(){return i}function n(e,r){function l(l){l||(c.useIScroll=!1),e.$emit(r.disabled)}function n(l){l||(c.useIScroll=!0),e.$emit(r.enabled)}function o(e){c.useIScroll^e?l(e):n(e)}function t(l){e.$emit(r.refresh,l)}var c={useIScroll:i.directive.initiallyEnabled,autoDetectedUseNativeScroll:S};return{defaults:i,state:c,enable:n,disable:l,toggle:o,refresh:t}}var i={iScroll:{momentum:!0,mouseWheel:!0},directive:{initiallyEnabled:!S,asyncRefreshDelay:0,refreshInterval:!1,invokeApply:!1}};angular.forEach(d,function(e,r){this[r]=void 0},i.directive),this.useNativeScroll=S,this.platform=r,this.configureDefaults=e,this.getDefaults=l,n.$inject=["$rootScope","iScrollSignals"],this.$get=n}function c(e){e()}function a(r,l,n,i,o){function t(e,r){l(function(){e.refresh()},r.directive.asyncRefreshDelay,r.directive.invokeApply)}function a(l,o,a,s){function f(){null!==m&&n.cancel(m),angular.isDefined(l.iscrollInstance)&&delete l.iscrollInstance,g.destroy(),o.removeClass(u.on).addClass(u.off),o.children(".iscroll-scroller").attr("style",null),angular.forEach(y,c)}function v(){p&&(p=!1,t(g,s),p=!0)}function S(){p=!1}function h(){p=!0}var g=new e(o[0],s.iScroll),p=!0,m=null;angular.forEach(d,function(e,r){angular.isDefined(s.directive[r])&&g.on(e,s.directive[r])}),o.removeClass(u.off).addClass(u.on),angular.isDefined(a.iscrollInstance)&&(l.iscrollInstance=g),s.directive.asyncRefreshDelay!==!1&&t(g,s),g.on("scrollStart",S),g.on("scrollEnd",h),s.directive.refreshInterval!==!1&&(m=n(v,s.directive.refreshInterval,0,s.directive.invokeApply));var y=[r.$on(i.disabled,f),r.$on(i.refresh,v),l.$on("$destroy",f)];return g}function s(e,l,n){function t(){l.hasClass(u.on)||a(e,l,n,f)}function s(){angular.forEach(v,c)}var f={iScroll:angular.extend({},e.iscroll||{},o.defaults.iScroll),directive:angular.extend({},o.defaults.directive)};angular.forEach(f.iScroll,function(e,r){(o.defaults.directive.hasOwnProperty(r)||d.hasOwnProperty(r))&&(f.directive[r]=e,delete f.iScroll[r])});var v=[r.$on(i.enabled,t)];o.state.useIScroll?t():l.removeClass(u.on).addClass(u.off),e.$on("$destroy",s)}return{restrict:"A",link:s,scope:{iscroll:"=",iscrollInstance:"="}}}var s={disabled:"iscroll:disabled",enabled:"iscroll:enabled",refresh:"iscroll:refresh"},u={on:"iscroll-on",off:"iscroll-off"},f=["beforeScrollStart","scrollCancel","scrollStart","scroll","scrollEnd","flick","zoomStart","zoomEnd"],d={},v=7,S=i();return angular.forEach(f,function(e){this["on"+o(e)]=e},d),a.$inject=["$rootScope","$timeout","$interval","iScrollSignals","iScrollService"],angular.module("angular-iscroll",[]).directive("iscroll",a).provider("iScrollService",t).constant("iScrollSignals",s)});